<!DOCTYPE html>
<html lang="en"><head>
<script src="ordenacoes_intro_files/libs/clipboard/clipboard.min.js"></script>
<script src="ordenacoes_intro_files/libs/quarto-html/tabby.min.js"></script>
<script src="ordenacoes_intro_files/libs/quarto-html/popper.min.js"></script>
<script src="ordenacoes_intro_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="ordenacoes_intro_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ordenacoes_intro_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="ordenacoes_intro_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Pedro Higuchi">
  <meta name="dcterms.date" content="2025-11-04">
  <title>Introdu√ß√£o √†s Ordena√ß√µes</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="ordenacoes_intro_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="ordenacoes_intro_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="ordenacoes_intro_files/libs/revealjs/dist/theme/quarto-f563837468303362081e247dddd440d0.css">
  <link href="ordenacoes_intro_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="ordenacoes_intro_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="ordenacoes_intro_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="ordenacoes_intro_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="ordenacoes_intro_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
  <script src="ordenacoes_intro_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <script src="ordenacoes_intro_files/libs/viz-1.8.2/viz.js"></script>
  <link href="ordenacoes_intro_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
  <script src="ordenacoes_intro_files/libs/grViz-binding-1.0.11/grViz.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introdu√ß√£o √†s Ordena√ß√µes</h1>
  <p class="subtitle">Simplificando Dados Complexos de Vegeta√ß√£o</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Pedro Higuchi 
</div>
        <p class="quarto-title-affiliation">
            UDESC - Universidade do Estado de Santa Catarina
          </p>
    </div>
</div>

  <p class="date">2025-11-04</p>
</section>
<section id="o-que-vamos-aprender-hoje" class="slide level2">
<h2>O que vamos aprender hoje?</h2>
<ul>
<li><p>O que √© ordena√ß√£o e para que serve</p></li>
<li><p>Como visualizar dados complexos</p></li>
<li><p>Tr√™s t√©cnicas b√°sicas: PCA, DCA e NMDS</p></li>
<li><p>Qual m√©todo usar em cada situa√ß√£o</p></li>
<li><p>Pr√°tica com dados reais da Floresta com Arauc√°ria</p></li>
</ul>
<p><strong>Objetivo: Tornar dados complicados mais f√°ceis de entender!</strong> üìä‚Üíüìà</p>
</section>
<section id="o-problema" class="slide level2">
<h2>O Problema</h2>
<p>Imagine que voc√™ mediu:</p>
<ul>
<li><p>50 parcelas de floresta</p></li>
<li><p>90 esp√©cies diferentes de √°rvores</p></li>
<li><p>10 vari√°veis de solo em cada parcela</p></li>
</ul>
<p><strong>Pergunta: Como visualizar tudo isso em um gr√°fico?</strong> ü§î</p>
<p><strong>Resposta: N√£o d√°! S√£o muitas dimens√µes‚Ä¶</strong></p>
<p><strong>Solu√ß√£o: ORDENA√á√ÉO = resumir em 2 ou 3 dimens√µes que voc√™ pode ver!</strong></p>
</section>
<section id="analogia-√≠ndice-de-vegeta√ß√£o-ndvi" class="slide level2">
<h2>Analogia: √çndice de Vegeta√ß√£o (NDVI)</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Sensor multiespectral:</strong></p>
<ul>
<li>üî¥ Vermelho (RED)</li>
<li>üåø Infravermelho (NIR)</li>
<li>üîµ Azul, üü¢ Verde</li>
<li>Outras bandas‚Ä¶</li>
</ul>
<p><strong>‚Üí M√∫ltiplas dimens√µes</strong></p>
</div><div class="column" style="width:50%;">
<p><strong>√çndice NDVI:</strong></p>
<p><span class="math display">\[NDVI = \frac{NIR - RED}{NIR + RED}\]</span></p>
<ul>
<li>√önico n√∫mero (-1 a +1)</li>
<li>Resume ‚Äúsa√∫de vegetal‚Äù</li>
</ul>
<p><strong>‚Üí 10+ bandas ‚Üí 1 √≠ndice</strong></p>
</div></div>
<p>NDVI resume bandas espectrais | PCA resume dados ambientais por exemplo</p>
<p><strong>10 Vari√°veis ambientais ‚Üí PC1 e PC2</strong> üå≤</p>
</section>
<section id="o-que-descobrimos-com-ordena√ß√£o" class="slide level2">
<h2>O que descobrimos com ordena√ß√£o?</h2>
<ul>
<li><p>Parcelas parecidas ficam pr√≥ximas no gr√°fico</p></li>
<li><p>Parcelas diferentes ficam distantes</p></li>
<li><p>Gradientes ambientais (fertilidade, altitude, umidade)</p></li>
<li><p>Grupos naturais de parcelas ou esp√©cies</p></li>
<li><p>Fatores mais importantes que explicam as diferen√ßas</p></li>
</ul>
</section>
<section id="nossos-dados-exemplo" class="slide level2">
<h2>Nossos Dados Exemplo</h2>
<p><strong>Floresta Ombr√≥fila Mista (Floresta com Arauc√°ria)</strong></p>
<p><strong>Vegeta√ß√£o:</strong></p>
<ul>
<li>50 parcelas</li>
<li>90 esp√©cies de √°rvores</li>
<li>2.837 indiv√≠duos</li>
<li>Esp√©cie principal: <em>Araucaria angustifolia</em></li>
</ul>
<p><strong>Ambiente:</strong></p>
<ul>
<li>pH do solo</li>
<li>Nutrientes (P, K, Ca, Mg)</li>
<li>Mat√©ria org√¢nica</li>
<li>Altitude</li>
<li>Declividade</li>
</ul>
</section>
<section id="dois-tipos-de-ordena√ß√£o" class="slide level2">
<h2>Dois Tipos de Ordena√ß√£o</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-0472a2396ac4b66e0774" style="width:960px;height:384px;"></div>
<script type="application/json" data-for="htmlwidget-0472a2396ac4b66e0774">{"x":{"diagram":"\ndigraph tipos {\n  graph [rankdir = LR, bgcolor = transparent]\n  node [shape = box, style = filled, fontname = Arial, fontsize = 14]\n  \n  A [label = \"Seus dados\", fillcolor = \"#2C5F2D\", fontcolor = white]\n  B [label = \"N√ÉO-RESTRITA\n\nBusca padr√µes\nlivremente\", fillcolor = \"lightblue\"]\n  C [label = \"RESTRITA\n\nTesta se vari√°veis\nexplicam padr√µes\", fillcolor = \"lightyellow\"]\n  \n  A -> B\n  A -> C\n}\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Hoje vamos focar em ordena√ß√£o N√ÉO-RESTRITA (explora√ß√£o inicial)</strong></p>
</section>
<section id="pca---an√°lise-de-componentes-principais" class="slide level2">
<h2>PCA - An√°lise de Componentes Principais</h2>
<p><strong>Quando usar:</strong></p>
<ul>
<li>Dados ambientais (solo, clima, topografia)</li>
<li>Gradientes curtos (&lt; 3 SD)</li>
<li>Poucos zeros na matriz de dados</li>
</ul>
<p><strong>Ideia b√°sica: Encontra as dire√ß√µes de maior varia√ß√£o nos dados</strong></p>
</section>
<section id="o-que-s√£o-gradientes-curtos" class="slide level2">
<h2>O que s√£o Gradientes Curtos? üìè</h2>
<p><strong>Gradiente &lt; 3 SD = Condi√ß√µes ambientais homog√™neas</strong></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>EXEMPLO 1: Parcelas em encosta sul</strong></p>
<ul>
<li>Condi√ß√µes similares</li>
<li>Varia√ß√£o pequena</li>
</ul>
<pre><code>P1: pH 5.2, Ca 4.5, Alt 920m
P2: pH 5.5, Ca 5.1, Alt 935m
P3: pH 5.0, Ca 4.2, Alt 915m</code></pre>
<p>‚úÖ pH: 5.0-5.5 (varia√ß√£o 0.5)</p>
<p>‚úÖ Ca: 4.2-5.1 (varia√ß√£o 0.9)</p>
<p>‚úÖ Altitude similar</p>
</div><div class="column" style="width:50%;">
<p><strong>EXEMPLO 2: Topo, enconsta e baixada</strong></p>
<ul>
<li>Condi√ß√µes muito diferentes</li>
<li>Varia√ß√£o grande</li>
</ul>
<pre><code>P1: pH 6.5, Ca 12.5, Alt 850m
P15: pH 5.5, Ca 5.2, Alt 950m
P30: pH 4.0, Ca 1.2, Alt 1100m</code></pre>
<p>‚ùå pH: 4.0-6.5 (varia√ß√£o 2.5)</p>
<p>‚ùå Ca: 1.2-12.5 (varia√ß√£o 11.3)</p>
<p>‚ùå Altitude muito diferente</p>
</div></div>
</section>
<section id="entendendo-o-sd-desvio-padr√£o" class="slide level2">
<h2>Entendendo o SD (Desvio Padr√£o)</h2>
<p><strong>SD = Standard Deviation</strong> - unidade que mede a <strong>mudan√ßa nas condi√ß√µes ambientais</strong></p>
<p><strong>Interpreta√ß√£o pr√°tica com vari√°veis de solo:</strong></p>
<ul>
<li><strong>&lt; 3 SD</strong> = Condi√ß√µes variam pouco ‚Üí ambiente homog√™neo</li>
<li><strong>&gt; 4 SD</strong> = Condi√ß√µes variam muito ‚Üí ambiente heterog√™neo</li>
</ul>
</section>
<section id="entendendo-o-sd-desvio-padr√£o-1" class="slide level2">
<h2>Entendendo o SD (Desvio Padr√£o)</h2>
<p><strong>Exemplo comparativo:</strong></p>
<pre><code>Gradiente CURTO (2.5 SD):
pH:       5.0 ‚Üí 5.5 ‚Üí 5.2 ‚Üí 5.3  (varia√ß√£o: 0.5 unidades)
C√°lcio:   4.2 ‚Üí 5.1 ‚Üí 4.5 ‚Üí 4.8  (varia√ß√£o: 0.9 cmolc/kg)
Altitude: 915 ‚Üí 935 ‚Üí 920 ‚Üí 928  (varia√ß√£o: 20 m)
         ‚Üí Condi√ß√µes SIMILARES ‚úÖ Use PCA/RDA

Gradiente LONGO (5.0 SD):
pH:       6.5 ‚Üí 5.5 ‚Üí 4.0         (varia√ß√£o: 2.5 unidades)
C√°lcio:   12.5 ‚Üí 5.2 ‚Üí 1.2        (varia√ß√£o: 11.3 cmolc/kg)
Altitude: 850 ‚Üí 950 ‚Üí 1100        (varia√ß√£o: 250 m)
         ‚Üí Condi√ß√µes MUITO DIFERENTES ‚ùå Use DCA/CCA/NMDS</code></pre>
</section>
<section id="limita√ß√£o-importante-do-pca" class="slide level2">
<h2>‚ö†Ô∏è Limita√ß√£o Importante do PCA</h2>
<p><strong>PCA funciona mal com dados de vegeta√ß√£o porque:</strong></p>
<ul>
<li>Muitas esp√©cies ausentes = muitos zeros (50-80% da matriz)</li>
<li>Distribui√ß√µes assim√©tricas</li>
<li>Pressuposi√ß√£o de linearidade n√£o atendida</li>
</ul>
</section>
<section id="pca---exemplo-visual-passo-a-passo" class="slide level2">
<h2>PCA - Exemplo Visual Passo a Passo</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="co"># Criar dados simples (6 parcelas x 2 esp√©cies)</span></span>
<span id="cb4-2"><a href=""></a>raw <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="fl">2.5</span>, <span class="fl">2.5</span>, <span class="dv">1</span>, <span class="fl">0.5</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>), <span class="at">nrow =</span> <span class="dv">6</span>)</span>
<span id="cb4-3"><a href=""></a><span class="fu">colnames</span>(raw) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"s1"</span>, <span class="st">"s2"</span>)</span>
<span id="cb4-4"><a href=""></a><span class="fu">rownames</span>(raw) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"p1"</span>, <span class="st">"p2"</span>, <span class="st">"p3"</span>, <span class="st">"p4"</span>, <span class="st">"p5"</span>, <span class="st">"p6"</span>)</span>
<span id="cb4-5"><a href=""></a>raw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    s1 s2
p1 1.0  0
p2 2.0  1
p3 2.5  2
p4 2.5  4
p5 1.0  3
p6 0.5  1</code></pre>
</div>
</div>
<p>Matriz de dados: 6 parcelas √ó 2 esp√©cies</p>
</section>
<section id="passo-1-dados-originais" class="slide level2">
<h2>PASSO 1: Dados Originais</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="fu">plot</span>(raw, <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">4</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-3-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"></section>
<section id="passo-2-dados-padronizados" class="slide level2">
<h2>PASSO 2: Dados Padronizados</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="co"># Dados brutos ‚Äúcentrados‚Äù (padronizados na mesma escala)</span></span>
<span id="cb7-2"><a href=""></a>cent <span class="ot">&lt;-</span> <span class="fu">scale</span>(raw, <span class="at">scale =</span> T)</span>
<span id="cb7-3"><a href=""></a><span class="fu">plot</span>(raw, <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">4</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb7-4"><a href=""></a><span class="fu">lines</span>(cent, <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">pch =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-4-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"></section>
<section id="passo-3-pca-eixos-rotacionados" class="slide level2">
<h2>PASSO 3: PCA (Eixos Rotacionados)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="co"># PCA - Rotacionar eixos</span></span>
<span id="cb8-2"><a href=""></a><span class="fu">library</span>(vegan)</span>
<span id="cb8-3"><a href=""></a>o.pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(cent)</span>
<span id="cb8-4"><a href=""></a><span class="fu">scores</span>(o.pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           PC1        PC2
p1 -1.35966283 -0.4017469
p2 -0.05820754 -0.7424332
p3  0.83271234 -0.6725842
p4  1.79348126  0.2881847
p5  0.08149056  1.0394065
p6 -1.28981378  0.4891730</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="fu">plot</span>(raw, <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">4</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb10-2"><a href=""></a><span class="fu">lines</span>(cent, <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">pch =</span> <span class="dv">20</span>)</span>
<span id="cb10-3"><a href=""></a><span class="fu">lines</span>(<span class="fu">scores</span>(o.pca), <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">pch =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"></section>
<section id="passo-4-biplot" class="slide level2">
<h2>PASSO 4: Biplot</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">biplot</span>(o.pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-6-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"></section>
<section id="pca-com-dados-reais---solo-da-fom" class="slide level2">
<h2>PCA com Dados Reais - Solo da FOM</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="co"># Carregar dados de solo</span></span>
<span id="cb12-2"><a href=""></a>amb <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"../data/environmental_data.csv"</span>, </span>
<span id="cb12-3"><a href=""></a>                  <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">dec =</span> <span class="st">","</span>, </span>
<span id="cb12-4"><a href=""></a>                  <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb12-5"><a href=""></a></span>
<span id="cb12-6"><a href=""></a><span class="co"># Ver as primeiras linhas</span></span>
<span id="cb12-7"><a href=""></a><span class="fu">head</span>(amb, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  arg  ph   P   K Na  MO  hal   Al  Ca  Mg   CTCph7    CTCef         V
1  31 3.9 2.0  54  0 4.2 24.4 11.2 0.8 0.5 25.83846 37.03846  5.567133
2  27 4.2 1.7  95  0 7.3 19.4  6.1 2.8 1.2 23.64359 29.74359 17.948162
3  24 4.8 5.6 125  0 9.1  9.7  1.6 9.2 1.8 21.02051 22.62051 53.854599
         SB    cd cotmedia desmax decmed
1  1.438462 94.28  1000.25      4      8
2  4.243590 94.54  1009.25      5      9
3 11.320513 93.24  1014.50      4      9</code></pre>
</div>
</div>
</section>
<section id="executando-pca" class="slide level2">
<h2>Executando PCA</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="co"># Fazer PCA</span></span>
<span id="cb14-2"><a href=""></a>pca_solo <span class="ot">&lt;-</span> <span class="fu">rda</span>(amb, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-3"><a href=""></a></span>
<span id="cb14-4"><a href=""></a><span class="co"># Quanto cada eixo explica?</span></span>
<span id="cb14-5"><a href=""></a><span class="fu">summary</span>(pca_solo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
rda(X = amb, scale = TRUE) 

Partitioning of correlations:
              Inertia Proportion
Total              18          1
Unconstrained      18          1

Eigenvalues, and their contribution to the correlations 

Importance of components:
                         PC1    PC2     PC3     PC4     PC5     PC6     PC7
Eigenvalue            8.8268 2.1053 1.47089 1.21485 1.13823 0.79450 0.69897
Proportion Explained  0.4904 0.1170 0.08172 0.06749 0.06323 0.04414 0.03883
Cumulative Proportion 0.4904 0.6073 0.68905 0.75654 0.81978 0.86392 0.90275
                          PC8     PC9    PC10    PC11     PC12     PC13
Eigenvalue            0.48973 0.42928 0.30179 0.23173 0.164537 0.080657
Proportion Explained  0.02721 0.02385 0.01677 0.01287 0.009141 0.004481
Cumulative Proportion 0.92996 0.95381 0.97057 0.98345 0.992587 0.997068
                          PC14      PC15
Eigenvalue            0.043958 0.0088237
Proportion Explained  0.002442 0.0004902
Cumulative Proportion 0.999510 1.0000000</code></pre>
</div>
</div>
</section>
<section id="o-que-s√£o-autovalores" class="slide level2">
<h2>O que s√£o Autovalores? üî¢</h2>
<p><strong>Autovalores</strong> medem <strong>quanto de varia√ß√£o</strong> cada eixo captura dos dados.</p>
</section>
<section id="executando-pca-1" class="slide level2">
<h2>Executando PCA</h2>
<ul>
<li>Os loadings mostram a correla√ß√£o entre cada vari√°vel original e os componentes principais!</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="co"># Loadings PCA</span></span>
<span id="cb16-2"><a href=""></a>loadings <span class="ot">&lt;-</span> <span class="fu">scores</span>(pca_solo, <span class="at">display =</span> <span class="st">"species"</span>, <span class="at">choices =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb16-3"><a href=""></a>loadings</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                PC1          PC2
arg      -0.2414695 -0.243726277
ph        1.2062885  0.120043974
P         0.6868190 -0.534306781
K         0.6857349  0.370407138
Na        0.8049970 -0.249722086
MO        0.6818968 -0.659944087
hal      -1.1726161 -0.357639041
Al       -1.0782134 -0.130638700
Ca        1.0193841 -0.387144031
Mg        0.9149885 -0.515201427
CTCph7   -0.6620791 -0.929701668
CTCef    -0.9614735 -0.722142386
V         1.2510646 -0.026751844
SB        1.1238388 -0.445070486
cd       -0.8864982  0.168675978
cotmedia -0.5742349 -0.546073313
desmax    0.7780676 -0.086667502
decmed    0.8180250 -0.008115826
attr(,"const")
[1] 5.449632</code></pre>
</div>
</div>
</section>
<section id="visualizar-pca---solo" class="slide level2">
<h2>Visualizar PCA - Solo</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="co"># Gr√°fico (biplot)</span></span>
<span id="cb18-2"><a href=""></a><span class="fu">biplot</span>(pca_solo, </span>
<span id="cb18-3"><a href=""></a>       <span class="at">main =</span> <span class="st">"PCA - Vari√°veis de Solo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-10-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"><p><strong>Interpreta√ß√£o:</strong> Setas vermelhas = vari√°veis de solo | n√∫meros = parcelas</p>
</section>
<section id="como-interpretar-o-biplot" class="slide level2">
<h2>Como Interpretar o Biplot?</h2>
<ul>
<li><p><strong>Setas longas</strong> = vari√°vel importante</p></li>
<li><p><strong>Setas curtas</strong> = vari√°vel pouco importante</p></li>
<li><p><strong>Setas no mesmo sentido</strong> = correlacionadas (ex: Ca e Mg)</p></li>
<li><p><strong>Setas opostas</strong> = correla√ß√£o negativa (ex: pH e Al)</p></li>
<li><p><strong>Parcelas pr√≥ximas</strong> = solo parecido</p></li>
<li><p><strong>Parcelas distantes</strong> = solo diferente</p></li>
</ul>
</section>
<section id="nmds---para-dados-de-vegeta√ß√£o" class="slide level2">
<h2>NMDS - Para Dados de Vegeta√ß√£o</h2>
<p><strong>Quando a PCA n√£o funciona bem‚Ä¶</strong></p>
<p><strong>Problemas com dados de vegeta√ß√£o:</strong></p>
<ul>
<li>Muitas esp√©cies ausentes (zeros)</li>
<li>Distribui√ß√µes muito assim√©tricas</li>
<li>Gradientes muito longos</li>
</ul>
<p><strong>Solu√ß√£o: NMDS (Non-metric Multidimensional Scaling)</strong></p>
</section>
<section id="nmds---o-mais-flex√≠vel" class="slide level2">
<h2>NMDS - O Mais Flex√≠vel</h2>
<p><strong>Non-metric Multidimensional Scaling</strong></p>
<p><strong>Vantagens:</strong></p>
<ul>
<li>Funciona com qualquer tipo de dado</li>
<li>N√£o assume rela√ß√µes lineares</li>
<li>Muito usado em ecologia moderna</li>
<li>Robusto e confi√°vel</li>
</ul>
<p><strong>Avalia√ß√£o: Stress (quanto menor, melhor)</strong></p>
</section>
<section id="nmds-na-pr√°tica" class="slide level2">
<h2>NMDS na Pr√°tica</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="co"># Fazer NMDS</span></span>
<span id="cb19-2"><a href=""></a><span class="co"># Carregar dados de vegeta√ß√£o</span></span>
<span id="cb19-3"><a href=""></a>veg <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"../data/vegetation_data.csv"</span>, </span>
<span id="cb19-4"><a href=""></a>                  <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">dec =</span> <span class="st">","</span>)</span>
<span id="cb19-5"><a href=""></a></span>
<span id="cb19-6"><a href=""></a><span class="co"># Criar matriz: parcelas (linhas) x esp√©cies (colunas)</span></span>
<span id="cb19-7"><a href=""></a>matriz <span class="ot">&lt;-</span> <span class="fu">as.data.frame.matrix</span>(<span class="fu">table</span>(veg<span class="sc">$</span>PC, veg<span class="sc">$</span>Species))</span>
<span id="cb19-8"><a href=""></a></span>
<span id="cb19-9"><a href=""></a></span>
<span id="cb19-10"><a href=""></a>nmds_result <span class="ot">&lt;-</span> <span class="fu">metaMDS</span>(matriz, </span>
<span id="cb19-11"><a href=""></a>                       <span class="at">k =</span> <span class="dv">2</span>,              <span class="co"># 2 dimens√µes</span></span>
<span id="cb19-12"><a href=""></a>                       <span class="at">distance =</span> <span class="st">"bray"</span>,  <span class="co"># √≠ndice de Bray-Curtis</span></span>
<span id="cb19-13"><a href=""></a>                       <span class="at">trymax =</span> <span class="dv">100</span>)       <span class="co"># tentativas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Wisconsin double standardization
Run 0 stress 0.2953069 
Run 1 stress 0.3016858 
Run 2 stress 0.2993289 
Run 3 stress 0.3048612 
Run 4 stress 0.2946375 
... New best solution
... Procrustes: rmse 0.02626173  max resid 0.08936126 
Run 5 stress 0.3042351 
Run 6 stress 0.3074333 
Run 7 stress 0.3061952 
Run 8 stress 0.3068137 
Run 9 stress 0.3038217 
Run 10 stress 0.3057733 
Run 11 stress 0.304079 
Run 12 stress 0.3088808 
Run 13 stress 0.2970068 
Run 14 stress 0.2989307 
Run 15 stress 0.3021531 
Run 16 stress 0.2941708 
... New best solution
... Procrustes: rmse 0.02121494  max resid 0.08175415 
Run 17 stress 0.2970639 
Run 18 stress 0.3145763 
Run 19 stress 0.308688 
Run 20 stress 0.3082099 
Run 21 stress 0.3020509 
Run 22 stress 0.3011894 
Run 23 stress 0.2993296 
Run 24 stress 0.2966206 
Run 25 stress 0.3021882 
Run 26 stress 0.3032483 
Run 27 stress 0.2980336 
Run 28 stress 0.3038578 
Run 29 stress 0.2943433 
... Procrustes: rmse 0.01401002  max resid 0.04430739 
Run 30 stress 0.3256685 
Run 31 stress 0.2987175 
Run 32 stress 0.309435 
Run 33 stress 0.300568 
Run 34 stress 0.3041017 
Run 35 stress 0.4025442 
Run 36 stress 0.3011053 
Run 37 stress 0.2942798 
... Procrustes: rmse 0.01333577  max resid 0.0566984 
Run 38 stress 0.3008965 
Run 39 stress 0.3060888 
Run 40 stress 0.3002176 
Run 41 stress 0.3056191 
Run 42 stress 0.307868 
Run 43 stress 0.3004209 
Run 44 stress 0.3003492 
Run 45 stress 0.2976744 
Run 46 stress 0.305457 
Run 47 stress 0.3170575 
Run 48 stress 0.3067136 
Run 49 stress 0.2948976 
Run 50 stress 0.3241337 
Run 51 stress 0.3017046 
Run 52 stress 0.2996457 
Run 53 stress 0.2991676 
Run 54 stress 0.3054177 
Run 55 stress 0.2992782 
Run 56 stress 0.3025877 
Run 57 stress 0.3041073 
Run 58 stress 0.3051942 
Run 59 stress 0.3017183 
Run 60 stress 0.3050231 
Run 61 stress 0.2949491 
Run 62 stress 0.2947023 
Run 63 stress 0.3056935 
Run 64 stress 0.3024503 
Run 65 stress 0.2993158 
Run 66 stress 0.3002 
Run 67 stress 0.300611 
Run 68 stress 0.3037464 
Run 69 stress 0.3130873 
Run 70 stress 0.2939518 
... New best solution
... Procrustes: rmse 0.0138983  max resid 0.07109317 
Run 71 stress 0.3002976 
Run 72 stress 0.3113144 
Run 73 stress 0.299812 
Run 74 stress 0.2941434 
... Procrustes: rmse 0.01731421  max resid 0.07571074 
Run 75 stress 0.300544 
Run 76 stress 0.3091752 
Run 77 stress 0.3073109 
Run 78 stress 0.29923 
Run 79 stress 0.2976706 
Run 80 stress 0.2946911 
Run 81 stress 0.2992165 
Run 82 stress 0.3050065 
Run 83 stress 0.2962577 
Run 84 stress 0.2948835 
Run 85 stress 0.3011789 
Run 86 stress 0.2953795 
Run 87 stress 0.3134278 
Run 88 stress 0.3072854 
Run 89 stress 0.3077079 
Run 90 stress 0.3151903 
Run 91 stress 0.3048457 
Run 92 stress 0.3000929 
Run 93 stress 0.3115287 
Run 94 stress 0.3082956 
Run 95 stress 0.2980844 
Run 96 stress 0.2943502 
... Procrustes: rmse 0.02431286  max resid 0.08094879 
Run 97 stress 0.3059063 
Run 98 stress 0.3034747 
Run 99 stress 0.3017727 
Run 100 stress 0.3097605 
*** Best solution was not repeated -- monoMDS stopping criteria:
    12: no. of iterations &gt;= maxit
    88: stress ratio &gt; sratmax</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a><span class="co"># Avaliar qualidade</span></span>
<span id="cb21-2"><a href=""></a>stress <span class="ot">&lt;-</span> <span class="fu">round</span>(nmds_result<span class="sc">$</span>stress, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Stress: 0.294</strong></p>
<p><strong>‚úó Ruim</strong>, n√£o usar!</p>
</section>
<section id="visualizar-nmds" class="slide level2">
<h2>Visualizar NMDS</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a>fig.nmds <span class="ot">&lt;-</span> <span class="fu">ordiplot</span>(nmds_result, <span class="at">type =</span> <span class="st">"none"</span>, <span class="at">font =</span> <span class="dv">6</span>, <span class="at">font.lab =</span> <span class="dv">6</span>, <span class="at">cex.axis =</span> <span class="fl">1.2</span>, </span>
<span id="cb22-2"><a href=""></a>    <span class="at">cex.lab =</span> <span class="fl">1.2</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">1</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>, <span class="dv">1</span>))</span>
<span id="cb22-3"><a href=""></a><span class="fu">text</span>(fig.nmds, <span class="st">"sites"</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">font =</span> <span class="dv">6</span>)</span>
<span id="cb22-4"><a href=""></a>stems <span class="ot">&lt;-</span> <span class="fu">colSums</span>(matriz)</span>
<span id="cb22-5"><a href=""></a>sel <span class="ot">&lt;-</span> <span class="fu">orditorp</span>(nmds_result, <span class="at">dis =</span> <span class="st">"sp"</span>, <span class="at">priority =</span> stems, <span class="at">pcol =</span> <span class="st">"black"</span>, <span class="at">pch =</span> <span class="st">"+"</span>, </span>
<span id="cb22-6"><a href=""></a>    <span class="at">cex =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-13-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="visualizar-stress-plot" class="slide level2">
<h2>Visualizar Stress plot</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a><span class="fu">stressplot</span>(nmds_result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-14-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="compara√ß√£o-dos-m√©todos" class="slide level2">
<h2>Compara√ß√£o dos M√©todos</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Caracter√≠stica</th>
<th>PCA</th>
<th>NMDS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Dificuldade</td>
<td>‚≠ê F√°cil</td>
<td>‚≠ê‚≠ê M√©dia</td>
</tr>
<tr class="even">
<td>Dados ambientais</td>
<td>‚úÖ √ìtimo</td>
<td>‚ö†Ô∏è OK</td>
</tr>
<tr class="odd">
<td>Dados vegeta√ß√£o</td>
<td>‚ùå Ruim</td>
<td>‚úÖ √ìtimo</td>
</tr>
<tr class="even">
<td>Gradiente curto</td>
<td>‚úÖ Use</td>
<td>‚ö†Ô∏è OK</td>
</tr>
<tr class="odd">
<td>Gradiente longo</td>
<td>‚ùå N√£o</td>
<td>‚úÖ Use</td>
</tr>
<tr class="even">
<td>Flexibilidade</td>
<td>Baixa</td>
<td>Alta</td>
</tr>
<tr class="odd">
<td>Medida qualidade</td>
<td>Autovalores</td>
<td>Stress</td>
</tr>
<tr class="even">
<td>Pressuposi√ß√µes</td>
<td>Linearidade</td>
<td>Nenhuma</td>
</tr>
</tbody>
</table>
</section>
<section id="resumo" class="slide level2">
<h2>Resumo</h2>
<ul>
<li><p>Ordena√ß√£o resume dados complexos em 2-3 dimens√µes</p></li>
<li><p><strong>PCA</strong> ‚Üí dados ambientais, gradientes curtos</p></li>
<li><p><strong>NMDS</strong> ‚Üí mais flex√≠vel, avaliar pelo stress</p></li>
</ul>
</section>
<section id="testando-diferen√ßas-entre-grupos-no-pca" class="slide level2">
<h2>Testando Diferen√ßas Entre Grupos no PCA</h2>
<p><strong>Pergunta: Os setores (Norte/Sul) diferem ao longo do gradiente ambiental?</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="co"># Extrair escores do PC1</span></span>
<span id="cb24-2"><a href=""></a>eixosPCA <span class="ot">&lt;-</span> <span class="fu">scores</span>(pca_solo, <span class="at">choices =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">display =</span> <span class="st">"sites"</span>)</span>
<span id="cb24-3"><a href=""></a>PCA1 <span class="ot">&lt;-</span> eixosPCA[,<span class="dv">1</span>]</span>
<span id="cb24-4"><a href=""></a></span>
<span id="cb24-5"><a href=""></a><span class="co"># Verificar normalidade</span></span>
<span id="cb24-6"><a href=""></a><span class="fu">shapiro.test</span>(PCA1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  PCA1
W = 0.98054, p-value = 0.575</code></pre>
</div>
</div>
<p><strong>Se p &gt; 0.05</strong> ‚Üí dados normais ‚úì | <strong>Se p &lt; 0.05</strong> ‚Üí usar teste n√£o-param√©trico</p>
</section>
<section id="comparando-setores---teste-t" class="slide level2">
<h2>Comparando Setores - Teste t</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="co"># Criar vari√°vel de exposi√ß√£o (exemplo)</span></span>
<span id="cb26-2"><a href=""></a>exposicao <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Norte"</span>, <span class="st">"Sul"</span>), <span class="at">each =</span> <span class="dv">25</span>)</span>
<span id="cb26-3"><a href=""></a></span>
<span id="cb26-4"><a href=""></a><span class="co"># Teste t</span></span>
<span id="cb26-5"><a href=""></a><span class="fu">t.test</span>(PCA1 <span class="sc">~</span> exposicao)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  PCA1 by exposicao
t = -3.3522, df = 47.211, p-value = 0.001586
alternative hypothesis: true difference in means between group Norte and group Sul is not equal to 0
95 percent confidence interval:
 -1.0741832 -0.2684969
sample estimates:
mean in group Norte   mean in group Sul 
           -0.33567             0.33567 </code></pre>
</div>
</div>
<p><strong>p &lt; 0.05?</strong> ‚Üí Setores S√ÉO diferentes ambientalmente! ‚úì</p>
</section>
<section id="visualizando-grupos-no-nmds" class="slide level2">
<h2>Visualizando Grupos no NMDS</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a>fig <span class="ot">&lt;-</span> <span class="fu">ordiplot</span>(nmds_result, <span class="at">type =</span> <span class="st">"none"</span>)</span>
<span id="cb28-2"><a href=""></a></span>
<span id="cb28-3"><a href=""></a><span class="co"># Parcelas por grupo</span></span>
<span id="cb28-4"><a href=""></a><span class="fu">points</span>(fig, <span class="st">"sites"</span>, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">"blue"</span>, </span>
<span id="cb28-5"><a href=""></a>       <span class="at">select =</span> exposicao <span class="sc">==</span> <span class="st">"Norte"</span>)</span>
<span id="cb28-6"><a href=""></a><span class="fu">points</span>(fig, <span class="st">"sites"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"red"</span>, </span>
<span id="cb28-7"><a href=""></a>       <span class="at">select =</span> exposicao <span class="sc">==</span> <span class="st">"Sul"</span>)</span>
<span id="cb28-8"><a href=""></a></span>
<span id="cb28-9"><a href=""></a><span class="co"># Esp√©cies</span></span>
<span id="cb28-10"><a href=""></a>sp.names <span class="ot">&lt;-</span> <span class="fu">make.cepnames</span>(<span class="fu">colnames</span>(matriz))</span>
<span id="cb28-11"><a href=""></a>stems <span class="ot">&lt;-</span> <span class="fu">colSums</span>(matriz)</span>
<span id="cb28-12"><a href=""></a><span class="fu">orditorp</span>(nmds_result, <span class="st">"sp"</span>, <span class="at">label =</span> sp.names,</span>
<span id="cb28-13"><a href=""></a>         <span class="at">priority =</span> stems, <span class="at">pch =</span> <span class="st">"+"</span>, <span class="at">pcol =</span> <span class="st">"grey"</span>)</span>
<span id="cb28-14"><a href=""></a></span>
<span id="cb28-15"><a href=""></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Norte"</span>, <span class="st">"Sul"</span>), </span>
<span id="cb28-16"><a href=""></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">1</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-17-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="como-o-ambiente-explica-a-vegeta√ß√£o" class="slide level2">
<h2>Como o Ambiente Explica a Vegeta√ß√£o?</h2>
<p><strong>Fun√ß√£o <code>envfit()</code> ajusta vari√°veis ambientais ao NMDS</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a><span class="co"># Ajustar vari√°veis ambientais √† ordena√ß√£o</span></span>
<span id="cb29-2"><a href=""></a>env_fit <span class="ot">&lt;-</span> <span class="fu">envfit</span>(nmds_result, amb, <span class="at">permutations =</span> <span class="dv">999</span>)</span>
<span id="cb29-3"><a href=""></a>env_fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
***VECTORS

            NMDS1    NMDS2     r2 Pr(&gt;r)    
arg       0.67720 -0.73580 0.0677  0.188    
ph        0.45286  0.89158 0.2604  0.002 ** 
P         0.60982  0.79254 0.0940  0.101    
K        -0.48328  0.87547 0.0632  0.230    
Na        0.82465  0.56565 0.2185  0.005 ** 
MO        0.98497  0.17274 0.2206  0.002 ** 
hal      -0.60032 -0.79976 0.1129  0.069 .  
Al       -0.18128 -0.98343 0.1050  0.087 .  
Ca        0.62843  0.77787 0.0058  0.894    
Mg        0.93011  0.36727 0.3081  0.001 ***
CTCph7   -0.38187 -0.92421 0.0835  0.113    
CTCef    -0.29910 -0.95422 0.1230  0.048 *  
V         0.62152  0.78339 0.1240  0.047 *  
SB        0.84242  0.53883 0.0578  0.264    
cd       -0.31649 -0.94860 0.1568  0.016 *  
cotmedia  0.43892 -0.89853 0.0736  0.157    
desmax    0.66226  0.74928 0.2334  0.002 ** 
decmed    0.46634  0.88460 0.2858  0.001 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Permutation: free
Number of permutations: 999</code></pre>
</div>
</div>
<p><strong>r¬≤</strong> = for√ßa da correla√ß√£o | <strong>p &lt; 0.05</strong> = vari√°vel significativa</p>
</section>
<section id="visualizar-nmds-envfit" class="slide level2">
<h2>Visualizar NMDS + envfit</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a>fig <span class="ot">&lt;-</span> <span class="fu">ordiplot</span>(nmds_result, <span class="at">type =</span> <span class="st">"none"</span>)</span>
<span id="cb31-2"><a href=""></a></span>
<span id="cb31-3"><a href=""></a><span class="co"># Parcelas por grupo</span></span>
<span id="cb31-4"><a href=""></a><span class="fu">points</span>(fig, <span class="st">"sites"</span>, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">"blue"</span>, </span>
<span id="cb31-5"><a href=""></a>       <span class="at">select =</span> exposicao <span class="sc">==</span> <span class="st">"Norte"</span>)</span>
<span id="cb31-6"><a href=""></a><span class="fu">points</span>(fig, <span class="st">"sites"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"red"</span>, </span>
<span id="cb31-7"><a href=""></a>       <span class="at">select =</span> exposicao <span class="sc">==</span> <span class="st">"Sul"</span>)</span>
<span id="cb31-8"><a href=""></a></span>
<span id="cb31-9"><a href=""></a><span class="co"># Esp√©cies</span></span>
<span id="cb31-10"><a href=""></a>sp.names <span class="ot">&lt;-</span> <span class="fu">make.cepnames</span>(<span class="fu">colnames</span>(matriz))</span>
<span id="cb31-11"><a href=""></a><span class="fu">orditorp</span>(nmds_result, <span class="st">"sp"</span>, <span class="at">label =</span> sp.names,</span>
<span id="cb31-12"><a href=""></a>         <span class="at">priority =</span> <span class="fu">colSums</span>(matriz), <span class="at">pch =</span> <span class="st">"+"</span>, </span>
<span id="cb31-13"><a href=""></a>         <span class="at">pcol =</span> <span class="st">"grey"</span>, <span class="at">cex =</span> <span class="fl">0.6</span>)</span>
<span id="cb31-14"><a href=""></a></span>
<span id="cb31-15"><a href=""></a><span class="co"># Vetores ambientais (p &lt; 0.05)</span></span>
<span id="cb31-16"><a href=""></a><span class="fu">plot</span>(env_fit, <span class="at">p.max =</span> <span class="fl">0.05</span>, <span class="at">col =</span> <span class="st">"darkgreen"</span>, </span>
<span id="cb31-17"><a href=""></a>     <span class="at">cex =</span> <span class="fl">0.8</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb31-18"><a href=""></a></span>
<span id="cb31-19"><a href=""></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Norte"</span>, <span class="st">"Sul"</span>), </span>
<span id="cb31-20"><a href=""></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">1</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-19-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="interpretando-o-envfit" class="slide level2">
<h2>Interpretando o envfit</h2>
<p><strong>Vetores ambientais:</strong></p>
<ul>
<li><strong>Dire√ß√£o</strong> ‚Üí gradiente da vari√°vel</li>
<li><strong>Comprimento</strong> ‚Üí for√ßa da correla√ß√£o<br>
</li>
<li><strong>√Çngulo</strong> ‚Üí correla√ß√£o entre vari√°veis</li>
</ul>
<p><strong>Exemplo:</strong> - Parcelas <strong>Norte</strong> ‚Üí solos √°cidos, baixo Ca/Mg - Parcelas <strong>Sul</strong> ‚Üí solos f√©rteis, alto Ca/Mg - pH e Altitude explicam composi√ß√£o de esp√©cies</p>
</section>
<section id="nmds-simplificado-sem-esp√©cies" class="slide level2">
<h2>NMDS Simplificado (sem esp√©cies)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a>fig <span class="ot">&lt;-</span> <span class="fu">ordiplot</span>(nmds_result, <span class="at">type =</span> <span class="st">"none"</span>)</span>
<span id="cb32-2"><a href=""></a></span>
<span id="cb32-3"><a href=""></a><span class="co"># Apenas parcelas</span></span>
<span id="cb32-4"><a href=""></a><span class="fu">points</span>(fig, <span class="st">"sites"</span>, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">"blue"</span>, </span>
<span id="cb32-5"><a href=""></a>       <span class="at">select =</span> exposicao <span class="sc">==</span> <span class="st">"Norte"</span>)</span>
<span id="cb32-6"><a href=""></a><span class="fu">points</span>(fig, <span class="st">"sites"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"red"</span>, </span>
<span id="cb32-7"><a href=""></a>       <span class="at">select =</span> exposicao <span class="sc">==</span> <span class="st">"Sul"</span>)</span>
<span id="cb32-8"><a href=""></a></span>
<span id="cb32-9"><a href=""></a><span class="co"># Apenas vetores significativos</span></span>
<span id="cb32-10"><a href=""></a><span class="fu">plot</span>(env_fit, <span class="at">p.max =</span> <span class="fl">0.05</span>, <span class="at">col =</span> <span class="st">"darkgreen"</span>, </span>
<span id="cb32-11"><a href=""></a>     <span class="at">cex =</span> <span class="dv">1</span>, <span class="at">lwd =</span> <span class="fl">2.5</span>)</span>
<span id="cb32-12"><a href=""></a></span>
<span id="cb32-13"><a href=""></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Norte"</span>, <span class="st">"Sul"</span>), </span>
<span id="cb32-14"><a href=""></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">1</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-20-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"><p>Gr√°fico mais limpo para visualizar padr√µes ambientais! üìä</p>
</section>
<section id="permanova---teste-multivariado" class="slide level2">
<h2>PERMANOVA - Teste Multivariado</h2>
<p><strong>Testa se composi√ß√£o de esp√©cies difere entre grupos</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a><span class="co"># PERMANOVA</span></span>
<span id="cb33-2"><a href=""></a>permanova_result <span class="ot">&lt;-</span> <span class="fu">adonis2</span>(matriz <span class="sc">~</span> exposicao, </span>
<span id="cb33-3"><a href=""></a>                            <span class="at">method =</span> <span class="st">"bray"</span>,</span>
<span id="cb33-4"><a href=""></a>                            <span class="at">permutations =</span> <span class="dv">999</span>)</span>
<span id="cb33-5"><a href=""></a>permanova_result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Permutation test for adonis under reduced model
Permutation: free
Number of permutations: 999

adonis2(formula = matriz ~ exposicao, permutations = 999, method = "bray")
         Df SumOfSqs      R2      F Pr(&gt;F)    
Model     1   0.8372 0.06091 3.1132  0.001 ***
Residual 48  12.9085 0.93909                  
Total    49  13.7457 1.00000                  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p><strong>p &lt; 0.05?</strong> ‚Üí Composi√ß√£o √â diferente entre Norte/Sul!</p>
<p><strong>R¬≤</strong> ‚Üí % da varia√ß√£o explicada pela exposi√ß√£o</p>
</section>
<section id="teste-de-homogeneidade-de-dispers√£o" class="slide level2">
<h2>Teste de Homogeneidade de Dispers√£o</h2>
<p><strong>O que √© betadisper?</strong></p>
<p>Verifica se os grupos t√™m <strong>dispers√£o</strong> (variabilidade) semelhante</p>
<p><strong>Por que isso importa?</strong></p>
<ul>
<li>PERMANOVA pode detectar diferen√ßas de dispers√£o OU de composi√ß√£o</li>
<li>Precisamos separar esses dois efeitos!</li>
</ul>
</section>
<section id="an√°lise-de-dispers√£o-betadisper" class="slide level2">
<h2>An√°lise de Dispers√£o (betadisper)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a><span class="co"># Calcular dist√¢ncias de Bray-Curtis</span></span>
<span id="cb35-2"><a href=""></a>dist_bray <span class="ot">&lt;-</span> <span class="fu">vegdist</span>(matriz, <span class="at">method =</span> <span class="st">"bray"</span>)</span>
<span id="cb35-3"><a href=""></a></span>
<span id="cb35-4"><a href=""></a><span class="co"># Teste de dispers√£o entre grupos</span></span>
<span id="cb35-5"><a href=""></a>dispersao <span class="ot">&lt;-</span> <span class="fu">betadisper</span>(dist_bray, exposicao)</span>
<span id="cb35-6"><a href=""></a></span>
<span id="cb35-7"><a href=""></a><span class="co"># Testar signific√¢ncia</span></span>
<span id="cb35-8"><a href=""></a><span class="fu">anova</span>(dispersao)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: Distances
          Df   Sum Sq  Mean Sq F value  Pr(&gt;F)  
Groups     1 0.032074 0.032074  5.6796 0.02117 *
Residuals 48 0.271072 0.005647                  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="co"># Visualizar</span></span>
<span id="cb37-2"><a href=""></a><span class="fu">plot</span>(dispersao, <span class="at">main =</span> <span class="st">"Dispers√£o Multivariada por Setor"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-22-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"></section>
<section id="interpretando-o-betadisper" class="slide level2">
<h2>Interpretando o betadisper</h2>
<p><strong>Resultado do ANOVA:</strong></p>
<ul>
<li><strong>p &gt; 0.05</strong> ‚Üí Dispers√µes semelhantes ‚úÖ
<ul>
<li>PERMANOVA confi√°vel!</li>
<li>Diferen√ßa √© de composi√ß√£o</li>
</ul></li>
<li><strong>p &lt; 0.05</strong> ‚Üí Dispers√µes diferentes ‚ö†Ô∏è
<ul>
<li>Aten√ß√£o! Grupos t√™m variabilidades distintas</li>
<li>PERMANOVA pode estar detectando isso, n√£o composi√ß√£o</li>
</ul></li>
</ul>
</section>
<section id="exemplo-visual---dispers√µes-iguais" class="slide level2">
<h2>Exemplo Visual - Dispers√µes Iguais</h2>

<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-23-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><p>Grupos separados, mas com variabilidade similar</p>
</section>
<section id="exemplo-visual---dispers√µes-diferentes" class="slide level2">
<h2>Exemplo Visual - Dispers√µes Diferentes</h2>

<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-24-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><p>Norte muito vari√°vel, Sul homog√™neo ‚Üí problema!</p>
</section>
<section id="resumo-betadisper" class="slide level2">
<h2>Resumo betadisper</h2>
<p><strong>O que faz:</strong> Testa se grupos t√™m variabilidade semelhante</p>
<p><strong>Quando usar:</strong> Sempre DEPOIS do PERMANOVA significativo</p>
<p><strong>Interpreta√ß√£o conjunta:</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>PERMANOVA</th>
<th>betadisper</th>
<th>Conclus√£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>p &lt; 0.05</td>
<td>p &gt; 0.05</td>
<td>‚úÖ Composi√ß√£o diferente</td>
</tr>
<tr class="even">
<td>p &lt; 0.05</td>
<td>p &lt; 0.05</td>
<td>‚ö†Ô∏è Dispers√£o diferente</td>
</tr>
<tr class="odd">
<td>p &gt; 0.05</td>
<td>qualquer</td>
<td>Grupos n√£o diferem</td>
</tr>
</tbody>
</table>
</section>
<section id="pcoa---an√°lise-de-coordenadas-principais" class="slide level2">
<h2>PCoA - An√°lise de Coordenadas Principais</h2>
<p><strong>Principal Coordinates Analysis (PCoA)</strong></p>
<p>Tamb√©m conhecida como <strong>MDS (Metric Multidimensional Scaling)</strong></p>
<p><strong>O que faz:</strong> Representa rela√ß√µes entre parcelas usando qualquer √≠ndice de dissimilaridade</p>
<p><strong>Propriedade importante:</strong> Transforma dissimilaridades em dist√¢ncias Euclidianas</p>
</section>
<section id="como-pcoa-funciona" class="slide level2">
<h2>Como PCoA funciona?</h2>
<p><strong>Entrada:</strong> Matriz de dissimilaridades entre parcelas</p>
<p><strong>Sa√≠da:</strong> Eixos ortogonais (independentes) ordenados por import√¢ncia</p>
<p><strong>Rela√ß√£o com outros m√©todos:</strong></p>
<ul>
<li>PCoA com dist√¢ncia Euclidiana = PCA</li>
<li>PCoA com dist√¢ncia qui-quadrado ‚âà CA</li>
<li>PCoA com Bray-Curtis = ideal para vegeta√ß√£o</li>
</ul>
</section>
<section id="pcoa-na-pr√°tica" class="slide level2">
<h2>PCoA na Pr√°tica</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a><span class="co"># Calcular matriz de dissimilaridade</span></span>
<span id="cb38-2"><a href=""></a>dist_bray <span class="ot">&lt;-</span> <span class="fu">vegdist</span>(matriz, <span class="at">method =</span> <span class="st">"bray"</span>)</span>
<span id="cb38-3"><a href=""></a></span>
<span id="cb38-4"><a href=""></a><span class="co"># Executar PCoA</span></span>
<span id="cb38-5"><a href=""></a>pcoa_result <span class="ot">&lt;-</span> <span class="fu">cmdscale</span>(dist_bray, <span class="at">k =</span> <span class="dv">2</span>, <span class="at">eig =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-6"><a href=""></a></span>
<span id="cb38-7"><a href=""></a><span class="co"># Ver autovalores (% de varia√ß√£o)</span></span>
<span id="cb38-8"><a href=""></a>eigenvalues <span class="ot">&lt;-</span> pcoa_result<span class="sc">$</span>eig</span>
<span id="cb38-9"><a href=""></a>var_explained <span class="ot">&lt;-</span> eigenvalues <span class="sc">/</span> <span class="fu">sum</span>(eigenvalues) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb38-10"><a href=""></a></span>
<span id="cb38-11"><a href=""></a><span class="fu">cat</span>(<span class="st">"Eixo 1:"</span>, <span class="fu">round</span>(var_explained[<span class="dv">1</span>], <span class="dv">1</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Eixo 1: 15 %</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a><span class="fu">cat</span>(<span class="st">"Eixo 2:"</span>, <span class="fu">round</span>(var_explained[<span class="dv">2</span>], <span class="dv">1</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Eixo 2: 11 %</code></pre>
</div>
</div>
</section>
<section id="problema-autovalores-negativos" class="slide level2">
<h2>‚ö†Ô∏è Problema: Autovalores Negativos</h2>
<p><strong>Quando usar √≠ndices n√£o-m√©tricos (ex: Bray-Curtis puro):</strong></p>
<ul>
<li>Podem aparecer autovalores negativos</li>
<li>Eixos n√£o podem ser plotados!</li>
</ul>
<p><strong>Solu√ß√µes:</strong></p>
<ol type="1">
<li>Transformar para m√©trico: <code>sqrt()</code> no Bray-Curtis ‚úÖ</li>
<li>Corre√ß√µes: Lingoes ou Cailliez</li>
<li>Usar NMDS (aceita qualquer √≠ndice)</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href=""></a><span class="co"># Bray-Curtis transformado (m√©trico)</span></span>
<span id="cb42-2"><a href=""></a>dist_bray_sqrt <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(dist_bray)</span>
<span id="cb42-3"><a href=""></a>pcoa_result <span class="ot">&lt;-</span> <span class="fu">cmdscale</span>(dist_bray_sqrt, <span class="at">k =</span> <span class="dv">2</span>, <span class="at">eig =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualizar-pcoa" class="slide level2">
<h2>Visualizar PCoA</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a>scores_pcoa <span class="ot">&lt;-</span> pcoa_result<span class="sc">$</span>points</span>
<span id="cb43-2"><a href=""></a></span>
<span id="cb43-3"><a href=""></a><span class="fu">plot</span>(scores_pcoa[,<span class="dv">1</span>], scores_pcoa[,<span class="dv">2</span>],</span>
<span id="cb43-4"><a href=""></a>     <span class="at">xlab =</span> <span class="fu">paste0</span>(<span class="st">"PCoA1 ("</span>, <span class="fu">round</span>(var_explained[<span class="dv">1</span>], <span class="dv">1</span>), <span class="st">"%)"</span>),</span>
<span id="cb43-5"><a href=""></a>     <span class="at">ylab =</span> <span class="fu">paste0</span>(<span class="st">"PCoA2 ("</span>, <span class="fu">round</span>(var_explained[<span class="dv">2</span>], <span class="dv">1</span>), <span class="st">"%)"</span>),</span>
<span id="cb43-6"><a href=""></a>     <span class="at">main =</span> <span class="st">"PCoA - Composi√ß√£o de Esp√©cies"</span>,</span>
<span id="cb43-7"><a href=""></a>     <span class="at">pch =</span> <span class="dv">19</span>, </span>
<span id="cb43-8"><a href=""></a>     <span class="at">col =</span> <span class="fu">ifelse</span>(exposicao <span class="sc">==</span> <span class="st">"Norte"</span>, <span class="st">"blue"</span>, <span class="st">"red"</span>),</span>
<span id="cb43-9"><a href=""></a>     <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb43-10"><a href=""></a></span>
<span id="cb43-11"><a href=""></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Norte"</span>, <span class="st">"Sul"</span>),</span>
<span id="cb43-12"><a href=""></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>), <span class="at">pch =</span> <span class="dv">19</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-27-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="pcoa-vs-nmds---diferen√ßas-fundamentais" class="slide level2">
<h2>PCoA vs NMDS - Diferen√ßas Fundamentais</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Caracter√≠stica</th>
<th>PCoA</th>
<th>NMDS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Algoritmo</strong></td>
<td>Anal√≠tico (√∫nico)</td>
<td>Iterativo (m√∫ltiplos)</td>
</tr>
<tr class="even">
<td><strong>Usa valores</strong></td>
<td>Dissimilaridades reais</td>
<td>Rankings</td>
</tr>
<tr class="odd">
<td><strong>Reprodutibilidade</strong></td>
<td>Sempre igual</td>
<td>Pode variar</td>
</tr>
<tr class="even">
<td><strong>N¬∫ de eixos</strong></td>
<td>Dado pelos dados</td>
<td>Voc√™ escolhe (k)</td>
</tr>
<tr class="odd">
<td><strong>% explicada</strong></td>
<td>Sim (autovalores)</td>
<td>N√£o</td>
</tr>
<tr class="even">
<td><strong>Qualidade</strong></td>
<td>Autovalores</td>
<td>Stress</td>
</tr>
<tr class="odd">
<td><strong>Esp√©cies</strong></td>
<td>Projetar depois</td>
<td>Projetar depois</td>
</tr>
</tbody>
</table>
</section>
<section id="rela√ß√£o-pcoa-nmds" class="slide level2">
<h2>Rela√ß√£o PCoA ‚Üí NMDS</h2>
<p><strong>Conceito importante:</strong></p>
<p>NMDS geralmente usa PCoA como <strong>configura√ß√£o inicial</strong></p>
<p>‚Üí NMDS otimiza a solu√ß√£o do PCoA iterativamente</p>
<p>‚Üí Tenta representar mais varia√ß√£o em menos eixos</p>
<p><strong>Na pr√°tica:</strong> NMDS ‚Äúmelhora‚Äù o PCoA quando stress &lt; 0.20</p>
</section>
<section id="quando-usar-cada-um" class="slide level2">
<h2>Quando usar cada um?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Use PCoA quando:</strong></p>
<p>‚úì Precisar de % varia√ß√£o explicada</p>
<p>‚úì Quiser solu√ß√£o √∫nica/reprodut√≠vel</p>
<p>‚úì Dataset grande (&gt;100 parcelas)</p>
<p>‚úì An√°lise r√°pida</p>
<p>‚úì Comparar com PCA</p>
<p>‚úì Necessidade de eixos ortogonais</p>
</div><div class="column" style="width:50%;">
<p><strong>Use NMDS quando:</strong></p>
<p>‚úì Quiser melhor representa√ß√£o visual</p>
<p>‚úì √çndice n√£o-m√©trico (sem transformar)</p>
<p>‚úì Publicar figura principal</p>
<p>‚úì Stress &lt; 0.20</p>
<p>‚úì Dataset pequeno/m√©dio</p>
</div></div>
<p><strong>Dica:</strong> Rode os dois! NMDS otimiza PCoA quando funciona bem</p>
</section>
<section id="compara√ß√£o-visual" class="slide level2">
<h2>Compara√ß√£o Visual</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href=""></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb44-2"><a href=""></a></span>
<span id="cb44-3"><a href=""></a><span class="co"># PCoA</span></span>
<span id="cb44-4"><a href=""></a><span class="fu">plot</span>(scores_pcoa[,<span class="dv">1</span>], scores_pcoa[,<span class="dv">2</span>],</span>
<span id="cb44-5"><a href=""></a>     <span class="at">xlab =</span> <span class="fu">paste0</span>(<span class="st">"PCoA1 ("</span>, <span class="fu">round</span>(var_explained[<span class="dv">1</span>], <span class="dv">1</span>), <span class="st">"%)"</span>),</span>
<span id="cb44-6"><a href=""></a>     <span class="at">ylab =</span> <span class="fu">paste0</span>(<span class="st">"PCoA2 ("</span>, <span class="fu">round</span>(var_explained[<span class="dv">2</span>], <span class="dv">1</span>), <span class="st">"%)"</span>),</span>
<span id="cb44-7"><a href=""></a>     <span class="at">main =</span> <span class="st">"PCoA - Solu√ß√£o Anal√≠tica"</span>,</span>
<span id="cb44-8"><a href=""></a>     <span class="at">pch =</span> <span class="dv">19</span>, </span>
<span id="cb44-9"><a href=""></a>     <span class="at">col =</span> <span class="fu">ifelse</span>(exposicao <span class="sc">==</span> <span class="st">"Norte"</span>, <span class="st">"blue"</span>, <span class="st">"red"</span>))</span>
<span id="cb44-10"><a href=""></a></span>
<span id="cb44-11"><a href=""></a><span class="co"># NMDS</span></span>
<span id="cb44-12"><a href=""></a><span class="fu">plot</span>(nmds_result, <span class="at">type =</span> <span class="st">"n"</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">"NMDS - Stress = "</span>, </span>
<span id="cb44-13"><a href=""></a>     <span class="fu">round</span>(nmds_result<span class="sc">$</span>stress, <span class="dv">3</span>)))</span>
<span id="cb44-14"><a href=""></a><span class="fu">points</span>(nmds_result, <span class="at">display =</span> <span class="st">"sites"</span>, <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb44-15"><a href=""></a>       <span class="at">col =</span> <span class="fu">ifelse</span>(exposicao <span class="sc">==</span> <span class="st">"Norte"</span>, <span class="st">"blue"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href=""></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<img data-src="ordenacoes_intro_files/figure-revealjs/unnamed-chunk-28-1.png" class="quarto-figure quarto-figure-center r-stretch" width="1152"></section>
<section id="resumo-pcoa-nmds" class="slide level2">
<h2>Resumo: PCoA &amp; NMDS</h2>
<p><strong>PCoA:</strong> - Solu√ß√£o anal√≠tica √∫nica e reprodut√≠vel - Fornece % varia√ß√£o explicada - R√°pido, ideal para grandes datasets - Prefira √≠ndices m√©tricos ou transforme</p>
<p><strong>NMDS:</strong> - Solu√ß√£o iterativa (otimiza PCoA) - Avaliado por stress (&lt; 0.20) - Melhor representa√ß√£o visual - Aceita qualquer √≠ndice</p>
<p><strong>Ambos:</strong> - Trabalham com matrizes de dissimilaridade - Esp√©cies adicionadas por weighted averaging - Use Bray-Curtis para dados de vegeta√ß√£o</p>
</section>
<section id="pr√≥ximos-passos" class="slide level2">
<h2>Pr√≥ximos Passos</h2>
<p><strong>Para aprender mais:</strong></p>
<ul>
<li>Ordena√ß√µes restritas (RDA, CCA)</li>
<li>Parti√ß√£o de vari√¢ncia</li>
</ul>
<p><strong>Contato:</strong></p>
<p>üìß Prof.&nbsp;Pedro Higuchi</p>
<p>üè´ UDESC - Lages/SC</p>
<p>üå≤ Lab. Dendrologia e Fitossociologia</p>
</section>
<section id="obrigado" class="slide level2">
<h2>Obrigado!</h2>
<p><strong>Boas an√°lises!</strong> üå≥üìä</p>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>Descri√ß√£o e An√°lise da Vegeta√ß√£o</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="ordenacoes_intro_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="ordenacoes_intro_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="ordenacoes_intro_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>